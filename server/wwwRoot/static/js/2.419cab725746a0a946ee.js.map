{"version":3,"sources":["webpack:///src/views/question/lesson.vue","webpack:///./src/views/question/lesson.vue?22bb","webpack:///./src/views/question/lesson.vue","webpack:///src/views/question/list.vue","webpack:///./src/views/question/list.vue?944d","webpack:///./src/views/question/list.vue","webpack:///src/views/lesson/index.vue","webpack:///./src/views/question/index.vue?37ad","webpack:///./src/views/question/index.vue"],"names":["lesson","_this","this","cur","pageSize","list","total","val","getLesson","id","name","_this2","_this3","question_lesson","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","overflow","attrs","data","lessons","prop","label","scopedSlots","_u","key","fn","scope","size","type","on","click","$event","toDetail","row","current-page","page-sizes","background","page-size","layout","current-change","size-change","handleSizeChange","update:currentPage","staticRenderFns","views_question_lesson","__webpack_require__","normalizeComponent","ssrContext","required","message","trigger","lessonId","getQuestion","then","res","question","title","answer","_this4","sendQuest","_this5","resetFields","done","_this6","$confirm","_","catch","_this7","_this8","_this9","question_list","CommonObj","changePage","float","showAdd","_s","lessonName","questions","formatter","dateFormat","handleEdit","handleDelete","quest","visible","dialogVisible","before-close","beforeClose","update:visible","ref","model","questForm","rules","label-width","value","callback","$$v","$set","expression","rows","submitForm","dialogVisible2","beforeClose2","domProps","innerHTML","activeNames","page","listComp","list_normalizeComponent","views_question","showStatus","commonSpace","_e","question_Component","question_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.419cab725746a0a946ee.js","sourcesContent":["<template>\r\n  <div class=\"lesson\">\r\n      <h1>选择课程</h1>\r\n      <hr>\r\n      <div style=\"width:100%;overflow:hidden\">\r\n        <el-table :data=\"lessons\">\r\n          <el-table-column prop=\"id\" label=\"ID\" width=\"60\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"名字\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"teach_time\" label=\"上课时间\" width=\"350\"></el-table-column>\r\n          <el-table-column prop=\"area\" label=\"上课地点\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"lesson_code\" label=\"选课课号\"></el-table-column>\r\n          <el-table-column label=\"题库列表\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                size=\"mini\" type=\"primary\"\r\n                @click=\"toDetail(scope.row)\">查看</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      \r\n      <el-pagination @current-change=\"getLesson\" @size-change=\"handleSizeChange\"\r\n        :current-page.sync=\"cur\" :page-sizes=\"[10, 50, 100]\" background\r\n        :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      cur: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      lessons: [],\r\n    }\r\n  },\r\n  props: ['CommonObj'],\r\n  methods: {\r\n    async getLesson() {\r\n      let data = await this.$http.get('/api/lesson/list', {\r\n        params: {\r\n          page: this.cur,\r\n          pageSize: this.pageSize\r\n        }\r\n      })\r\n      this.lessons = data.list\r\n      this.total = data.total\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getLesson()\r\n    },\r\n    toDetail(row) {\r\n      this.CommonObj.lessonId = row.id\r\n      this.CommonObj.lessonName = row.name\r\n      this.CommonObj.changePage(1)\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(() => {\r\n      this.getLesson()\r\n    })\r\n  },\r\n  activated(){\r\n    this.$nextTick(() => {\r\n      this.getLesson()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .lesson {\r\n    .el-dialog__body {\r\n      padding: 5px 21px;\r\n      .el-upload__tip{\r\n        margin-top: 0;\r\n      }\r\n      .el-input{\r\n        margin-bottom: 5px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/lesson.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lesson\"},[_c('h1',[_vm._v(\"选择课程\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"overflow\":\"hidden\"}},[_c('el-table',{attrs:{\"data\":_vm.lessons}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名字\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"teach_time\",\"label\":\"上课时间\",\"width\":\"350\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"area\",\"label\":\"上课地点\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lesson_code\",\"label\":\"选课课号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"题库列表\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.toDetail(scope.row)}}},[_vm._v(\"查看\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.cur,\"page-sizes\":[10, 50, 100],\"background\":\"\",\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.getLesson,\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.cur=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-9b360190\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/question/lesson.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b360190\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./lesson.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./lesson.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./lesson.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b360190\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./lesson.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/lesson.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"lesson\">\r\n      <el-button size=\"mini\" type=\"primary\" @click=\"CommonObj.changePage(0)\">返回</el-button>\r\n      <el-button size=\"mini\" type=\"primary\" @click=\"showAdd\" style=\"float:right\">添加问题</el-button>\r\n      <hr>\r\n      <h1>{{CommonObj.lessonName}}的题库</h1>\r\n      <div style=\"width:100%;overflow:hidden\">\r\n        <el-table :data=\"questions\">\r\n          <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"title\" label=\"题目名字\" width=\"400\"></el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"创建时间\" :formatter=\"dateFormat\"></el-table-column>\r\n          <el-table-column label=\"编辑\" width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\"\r\n                @click=\"handleEdit(scope.row)\">修改</el-button>\r\n                <el-button size=\"mini\" type=\"danger\"\r\n                @click=\"handleDelete(scope.row)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"提问\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                size=\"mini\" type=\"primary\"\r\n                @click=\"quest(scope.row)\">提问</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      \r\n      <el-pagination @current-change=\"getQuestion\" @size-change=\"handleSizeChange\"\r\n        :current-page.sync=\"cur\" :page-sizes=\"[10, 50, 100]\" background\r\n        :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\r\n\r\n      <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" :before-close=\"beforeClose\">\r\n        <el-form :model=\"questForm\" :rules=\"rules\" ref=\"questForm\" label-width=\"100px\">\r\n          <el-form-item label=\"标题：\" prop=\"title\">\r\n            <el-input v-model=\"questForm.title\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"内容：\" prop=\"question\">\r\n             <el-input v-model=\"questForm.question\" type=\"textarea\" :rows=\"5\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"答案：\" prop=\"answer\">\r\n             <el-input v-model=\"questForm.answer\" type=\"textarea\" :rows=\"5\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm()\">确定</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n\r\n      <el-dialog title=\"提问\" :visible.sync=\"dialogVisible2\" :before-close=\"beforeClose2\">\r\n          <div class=\"whiteSpace\" v-html=\"questForm.title\"></div>\r\n          <div class=\"whiteSpace content\" v-html=\"questForm.question\"></div>\r\n          <el-collapse v-model=\"activeNames\">\r\n                <el-collapse-item title=\"答案\" name=\"1\">\r\n                    <div class=\"whiteSpace\" v-html=\"questForm.answer\"></div>\r\n                </el-collapse-item>\r\n           </el-collapse>\r\n      </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport utils from '@/utils'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cur: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      questions: [],\r\n      title: '',\r\n      dialogVisible: false,\r\n      title2: '',\r\n      dialogVisible2: false,\r\n      questForm:{\r\n          id: '',\r\n          title: '',\r\n          question: '',\r\n          answer: '',\r\n      },\r\n      rules: {\r\n          title: [\r\n            { required: true, message: '请输入题目标题', trigger: 'blur' }\r\n          ]\r\n      },\r\n      isAdd: true,\r\n      activeNames: []\r\n    }\r\n  },\r\n  props: ['CommonObj'],\r\n  methods: {\r\n    async getQuestion() {\r\n      let data = await this.$http.get('/api/quest/list', {\r\n        params: {\r\n          id: this.CommonObj.lessonId,\r\n          page: this.cur,\r\n          pageSize: this.pageSize\r\n        }\r\n      })\r\n      this.questions = data.list\r\n      this.total = data.total\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getQuestion()\r\n    },\r\n    handleEdit(row) {\r\n      this.$http.get('api/quest/detail',{\r\n          params:{\r\n              id:row.id\r\n          }\r\n      }).then(res=>{\r\n          this.questForm.question = res.question\r\n          this.questForm.id = row.id\r\n          this.questForm.title = row.title\r\n          this.questForm.answer = res.answer\r\n      })\r\n      this.title = '修改题目信息'\r\n      this.dialogVisible = true\r\n      this.isAdd = false\r\n    },\r\n    quest(row) {\r\n      this.$http.get('api/quest/detail',{\r\n          params:{\r\n              id:row.id\r\n          }\r\n      }).then(res=>{\r\n          this.questForm.question = res.question\r\n          this.questForm.id = row.id\r\n          this.questForm.title = row.title\r\n          this.questForm.answer = res.answer\r\n      })\r\n      this.title2 = row.title.length>32 ? row.title.substring(0,31)+'...':row.title\r\n      this.dialogVisible2 = true\r\n    },\r\n    dateFormat(row, column, cellValue) {\r\n      return utils.DateTransfer(new Date(cellValue),'yyyy-MM-dd hh:mm:ss')\r\n    },\r\n    showAdd(){\r\n        this.title = '添加题目'\r\n        this.dialogVisible = true\r\n        this.isAdd = true\r\n        this.questForm.id = ''\r\n        this.questForm.title = ''\r\n        this.questForm.question = ''\r\n        this.questForm.answer = ''\r\n    },\r\n    submitForm() {\r\n      this.$refs['questForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.sendQuest()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    sendQuest(){\r\n      if(this.isAdd) {\r\n        this.$http.post('api/quest/add',{\r\n          question:this.questForm.question,\r\n          answer:this.questForm.answer,\r\n          lesson_id:this.CommonObj.lessonId,\r\n          title:this.questForm.title\r\n        }).then(res=>{\r\n          this.$message({\r\n              type: 'success',\r\n              message: '添加成功'\r\n          });\r\n          this.getQuestion()\r\n          this.dialogVisible = false\r\n        })\r\n      } else {\r\n        this.$http.post('api/quest/update',{\r\n          id:this.questForm.id,\r\n          question:this.questForm.question,\r\n          answer:this.questForm.answer,\r\n          title:this.questForm.title\r\n        }).then(res=>{\r\n          this.$message({\r\n              type: 'success',\r\n              message: '更新成功'\r\n          });\r\n          this.getQuestion()\r\n          this.dialogVisible = false\r\n        })\r\n      }\r\n    },\r\n    beforeClose(done) {\r\n      this.$refs['questForm'] && this.$refs['questForm'].resetFields();\r\n      done()\r\n    },\r\n    beforeClose2(done) {\r\n      this.activeNames = []\r\n      done()\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm(`确认要删除这个问题吗？`)\r\n          .then(_ => {\r\n            this.delete(row.id)\r\n          })\r\n          .catch(_ => {});\r\n    },\r\n    delete(id) {\r\n      this.$http.post('api/quest/delete',{id}).then(res=>{\r\n        this.$message({\r\n            type: 'success',\r\n            message: '删除成功'\r\n        });\r\n        this.getQuestion()\r\n      })\r\n    },\r\n  },\r\n  mounted(){\r\n    this.$nextTick(() => {\r\n      this.getQuestion()\r\n    })\r\n  },\r\n  activated(){\r\n    this.$nextTick(() => {\r\n      this.getQuestion()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .lesson {\r\n    .el-dialog__body {\r\n      padding: 5px 21px;\r\n      .el-upload__tip{\r\n        margin-top: 0;\r\n      }\r\n      .el-input{\r\n        margin-bottom: 5px;\r\n      }\r\n    }\r\n  }\r\n  .whiteSpace{\r\n      white-space: pre-wrap;\r\n      &.content {\r\n          margin: 10px 0;\r\n      }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/question/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lesson\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.CommonObj.changePage(0)}}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.showAdd}},[_vm._v(\"添加问题\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.CommonObj.lessonName)+\"的题库\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"overflow\":\"hidden\"}},[_c('el-table',{attrs:{\"data\":_vm.questions}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"题目名字\",\"width\":\"400\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"formatter\":_vm.dateFormat}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编辑\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"提问\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.quest(scope.row)}}},[_vm._v(\"提问\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.cur,\"page-sizes\":[10, 50, 100],\"background\":\"\",\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.getQuestion,\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.cur=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"questForm\",attrs:{\"model\":_vm.questForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题：\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.questForm.title),callback:function ($$v) {_vm.$set(_vm.questForm, \"title\", $$v)},expression:\"questForm.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容：\",\"prop\":\"question\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5},model:{value:(_vm.questForm.question),callback:function ($$v) {_vm.$set(_vm.questForm, \"question\", $$v)},expression:\"questForm.question\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"答案：\",\"prop\":\"answer\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5},model:{value:(_vm.questForm.answer),callback:function ($$v) {_vm.$set(_vm.questForm, \"answer\", $$v)},expression:\"questForm.answer\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm()}}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提问\",\"visible\":_vm.dialogVisible2,\"before-close\":_vm.beforeClose2},on:{\"update:visible\":function($event){_vm.dialogVisible2=$event}}},[_c('div',{staticClass:\"whiteSpace\",domProps:{\"innerHTML\":_vm._s(_vm.questForm.title)}}),_vm._v(\" \"),_c('div',{staticClass:\"whiteSpace content\",domProps:{\"innerHTML\":_vm._s(_vm.questForm.question)}}),_vm._v(\" \"),_c('el-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"答案\",\"name\":\"1\"}},[_c('div',{staticClass:\"whiteSpace\",domProps:{\"innerHTML\":_vm._s(_vm.questForm.answer)}})])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d001d8b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/question/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d001d8b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d001d8b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n      <lessonComp v-if=\"showStatus == 0\" :CommonObj=\"commonSpace\"></lessonComp>\r\n      <listComp v-if=\"showStatus == 1\" :CommonObj=\"commonSpace\"></listComp>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport lessonComp from './lesson'\r\nimport listComp from './list'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            showStatus: 0,\r\n            commonSpace: {\r\n                lessonId: '',\r\n                lessonName: '',\r\n                changePage: this.changePage.bind(this)\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        changePage(page){\r\n            this.showStatus = page\r\n        }\r\n    },\r\n    components: {\r\n        lessonComp,listComp\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/lesson/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showStatus == 0)?_c('lessonComp',{attrs:{\"CommonObj\":_vm.commonSpace}}):_vm._e(),_vm._v(\" \"),(_vm.showStatus == 1)?_c('listComp',{attrs:{\"CommonObj\":_vm.commonSpace}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-64ddeb78\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/question/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64ddeb78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64ddeb78\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/question/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}